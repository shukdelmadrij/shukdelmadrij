define("liveupdate",["extlycore"],function(e){"use strict";var t=null,i,n=e.ExtlyModel.extend({url:function(){return e.SefHelper.route("index.php?option=com_autotweet&view=cpanels&task=getUpdateInfo")}}),o=Backbone.Collection.extend({model:n}),a=Backbone.View.extend({initialize:function(){var e=this;this.$updateNotice=this.$("#updateNotice"),this.collection.on("add",this.loadLiveUpdates,this),this.$el.ajaxStart(function(){e.$(".loaderspinner72").addClass("loading72")}).ajaxStop(function(){e.$(".loaderspinner72").removeClass("loading72")}),this.getLiveUpdates()},getLiveUpdates:function(){var e=this;this.collection.create(this.collection.model,{attrs:{token:e.$("#XTtoken").attr("name")},wait:!0,dataType:"text",error:function(t,i,n){e.$updateNotice.html(i.responseText)}})},loadLiveUpdates:function(e){var t=e.get("hasUpdate");t&&this.$updateNotice.html(e.get("result"))}});return i=jQuery("#updateNotice"),i.size()?t=new a({el:jQuery("#adminForm"),collection:new o}):(i=jQuery("#fullUpdateNotice"),i.size()&&(t=new FullLiveUpdateView({el:jQuery("#adminForm"),collection:new o}))),t});